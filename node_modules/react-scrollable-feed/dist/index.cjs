function e(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach(function(o){if("default"!==o){var r=Object.getOwnPropertyDescriptor(e,o);Object.defineProperty(t,o,r.get?r:{enumerable:!0,get:function(){return e[o]}})}}),t.default=e,t}var t=/*#__PURE__*/e(require("react"));function o(e,t){return o=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},o(e,t)}var r=/*#__PURE__*/function(e){var r,n;function i(o){var r;return(r=e.call(this,o)||this).wrapperRef=void 0,r.bottomRef=void 0,r.bottomRef=/*#__PURE__*/t.createRef(),r.wrapperRef=/*#__PURE__*/t.createRef(),r.handleScroll=r.handleScroll.bind(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(r)),r.props.debug&&console.log("Component cstr"),r}n=e,(r=i).prototype=Object.create(n.prototype),r.prototype.constructor=r,o(r,n);var c=i.prototype;return c.getSnapshotBeforeUpdate=function(){return this.props.debug&&console.log("Component ",this.getSnapshotBeforeUpdate.name),!(!this.wrapperRef.current||!this.bottomRef.current)&&i.isViewable(this.wrapperRef.current,this.bottomRef.current,this.props.viewableDetectionEpsilon)},c.componentDidUpdate=function(e,t,o){this.props.debug&&console.log("Component ",this.componentDidUpdate.name);var r=this.props,n=r.forceScroll;(0,r.changeDetectionFilter)(e,this.props)&&(n||o)&&this.bottomRef.current&&this.wrapperRef.current&&this.scrollParentToChild(this.wrapperRef.current,this.bottomRef.current)},c.componentDidMount=function(){this.props.debug&&console.log("Component ",this.componentDidMount.name),this.bottomRef.current&&this.wrapperRef.current&&this.scrollParentToChild(this.wrapperRef.current,this.bottomRef.current)},c.scrollParentToChild=function(e,t){if(!i.isViewable(e,t,this.props.viewableDetectionEpsilon)){var o=e.getBoundingClientRect(),r=t.getBoundingClientRect(),n=this.props,c=n.animateScroll,l=n.onScrollComplete;c&&(c(e,r.top+e.scrollTop-o.top),l())}},i.isViewable=function(e,t,o){o=o||0;var r=e.getBoundingClientRect(),n=t.getBoundingClientRect();return n.top>=r.top&&r.top+e.clientHeight-n.top+o>=0},c.handleScroll=function(){var e=this.props,t=e.onScroll;t&&this.bottomRef.current&&this.wrapperRef.current&&t(i.isViewable(this.wrapperRef.current,this.bottomRef.current,e.viewableDetectionEpsilon))},c.scrollToBottom=function(){this.bottomRef.current&&this.wrapperRef.current&&this.scrollParentToChild(this.wrapperRef.current,this.bottomRef.current)},c.render=function(){this.props.debug&&console.log("Component ",this.render.name);var e=this.props;/*#__PURE__*/return t.createElement("div",{className:e.className,style:{maxHeight:"inherit",height:"inherit",overflowY:"auto"},ref:this.wrapperRef,onScroll:this.handleScroll},e.children,/*#__PURE__*/t.createElement("div",{ref:this.bottomRef}))},i}(t.Component);r.defaultProps={forceScroll:!1,animateScroll:function(e,t){e.scrollBy?e.scrollBy({top:t}):e.scrollTop=t},onScrollComplete:function(){},changeDetectionFilter:function(){return!0},viewableDetectionEpsilon:2,onScroll:function(){}},module.exports=r;
//# sourceMappingURL=index.cjs.map
